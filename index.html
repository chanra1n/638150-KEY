<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
    <link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Courier+Prime:ital,wght@0,400;0,700;1,400;1,700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.2.0/remixicon.css" integrity="sha512-OQDNdI5rpnZ0BRhhJc+btbbtnxaj+LdQFeh0V9/igiEPDiWE2fG+ZsXl0JEH+bjXKPJ3zcXqNyP4/F/NegVdZg==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <title>638150-KEY</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            width: 100%;
            height: 100%;
            background-color: black;
            font-family: 'Courier Prime', Courier, monospace;
        }

        input {
            padding: 15px;
    padding-left: 20px;
    padding-right: 20px;
    font-size: 20px;
    border: none;
    border-radius: 100vmin;
    font-size: 25px;
    outline: none;
    font-family: 'Courier Prime', Courier, monospace;
    font-weight: 900;
    text-align: left;
    position: sticky;
    top: 0;
    width: -webkit-fill-available;
    background-color: white;
    margin: 0px;
        }

        #output {
            padding: 15px;
    font-size: 27.5px;
    border-radius: 5px;
    color: gray;
    font-weight: 900;
    word-wrap: break-word;
    white-space: pre-wrap;
    text-align: right;
        }

        .middle {
            position: absolute;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    text-align: center;
    max-height: 75%;
    overflow-y: auto;
    overflow-x: hidden;
    box-sizing: border-box;
    background-color: black;
    display: flex;
    width: 100%;
    max-width: 75vmin;
    flex-direction: column;
    z-index: 1000;
}

        .nums {
            color: yellow;
        }

        .steps {
            color: cyan;
        }

        .total {
            color: magenta;
        }

        @keyframes psychadelic {
            0% {
                filter: hue-rotate(0deg) sepia(1) blur(5px);
            }

            100% {
                filter: hue-rotate(360deg) sepia(0) blur(5px);
            }
        }

        #sidebar {
            position: fixed;
            left:0;
            top: 0;
            width:100%;
            height: 50px;
            display: flex;
            flex-direction: row;
            color:white;
            background-color:transparent;
            padding:10px;
            overflow:hidden;
            overflow-x:auto;
        }

        #sidebar button {
            padding: 7.5px;
            border: none;
            background-color: white;
            color: black;
            font-size: 12px;
            font-family: 'Courier Prime', Courier, monospace;
            font-weight: 900;
            text-align: left;
            cursor: pointer;
            display: flex;
            align-items: center;
            border-radius:100vmin;
            margin:10px;
            vertical-align: middle;
            padding-left:15px;
            padding-right: 15px;
            opacity:25%;
            width: max-content;


        }

        #sidebar button:hover {
            opacity:100%;
        }


        #sidebar button i {
            float:left;
            margin-right:10px;
            vertical-align: middle;
            font-size:15px;
            padding:0px;
        }

        #sidebar button span {
            float:right;
            vertical-align: middle;
        }

    </style>
</head>

<body>
    <div id ="sidebar">
        <button onclick = "launchSite('key.txt')"><i class="ri-download-fill"></i> <span>Conversion Key</span></button>
        <button onclick = "launchSite('https://www.reddit.com/r/Weird/comments/1g8lw2x/a_friend_of_mine_sent_me_this_and_is_convinced/')"><i class="ri-reddit-line"></i> <span>Original Reddit Post</span></button>
        <button onclick = "launchSite('https://disorderofsevenstars.tumblr.com/')"><i class="ri-tumblr-fill"></i> <span>Disorder of Seven Stars Tumblr Blog</span></button>
    </div>
    <div class="middle">
        <input type="text" placeholder = "..." id="input" onkeyup="schz_translate(this.value)">
        <div id="output"></div>
    </div>
</body>
<script>
    schizo_map = {
        "A": 1,
        "B": 2,
        "C": 3,
        "D": 4,
        "E": 5,
        "F": 6,
        "G": 9,
        "H": 8,
        "I": 1,
        "J": 1,
        "K": 4,
        "L": 7,
        "M": 7,
        "N": 9,
        "O": 0,
        "P": 5,
        "Q": 3,
        "R": 5,
        "S": 6,
        "T": 2,
        "U": 6,
        "V": 7,
        "W": 2,
        "X": 9,
        "Y": 3,
        "Z": 5
    }

    function schizo(word) {
        const nums = Array.from(word.toUpperCase())
            .filter(c => c !== ' ')
            .map(c => schizo_map[c] || 0);
        let sum = nums.reduce((acc, num) => acc + num, 0);

        const reduceToSingleDigit = (num) => {
            let steps = [];
            while (num > 9) {
                steps.push(num);
                num = Array.from(num.toString()).map(Number).reduce((acc, n) => acc + n, 0);
            }
            steps.push(num);
            steps.shift();
            return steps;
        };

        const steps = reduceToSingleDigit(sum);
        const wordTotal = steps[steps.length - 1];

        if (steps.length === 0) {
            return `<span class="nums">${nums.join('</span> + <span class="nums">')}</span> = <span class="total">${sum}</span>`;
        }

        return `<span class="nums">${nums.join('</span> + <span class="nums">')}</span> = <span class="total">${sum}</span> -> ${steps.map(step => `<span class="steps">${step}</span>`).join(' -> ')}`;
    }

    function schz_translate(value) {
        if (!value) {
            document.getElementById('output').innerText = '';
            return;
        }
        if (!/^[a-zA-Z\s]+$/.test(value)) {
            document.getElementById('output').innerText = 'One or more characters are not letters.';
            return;
        }
        if (value.length == 1) {
            document.getElementById('output').innerText = schizo_map[value.toUpperCase()] || 0;
            return;
        }
        document.getElementById('output').innerHTML = schizo(value);
    }

    // i'm aware this is a shitty way to do this, but please leave me alone i'm very tired :)
    function launchSite(url) {
        window.open(url, '_blank');
    }

</script>